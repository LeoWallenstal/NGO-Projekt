/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package ngo2024.fonster;

import ngo2024.*;
import oru.inf.InfDB;


/**
 *
 * @author annae
 */
public class LaggTillLandFonster extends javax.swing.JFrame {

    /**
     * Creates new form LaggTillLandFonster
     */
    
    private Anvandare inloggadAnvandare;
    private LandFonster forraFonstret;
    private InfDB idb;
    
    public LaggTillLandFonster(Anvandare inloggadAnvandare, LandFonster forraFonstret, InfDB idb) {
        this.inloggadAnvandare = inloggadAnvandare;
        this.forraFonstret = forraFonstret;
        this.idb = idb;
        initComponents();
        setLocationRelativeTo(null);
        doljFelMeddelanden();
    }

    private void doljFelMeddelanden(){
        lblFelMNamn.setVisible(false);
        lblFelMSprak.setVisible(false);
        lblFelMValuta.setVisible(false);
        lblFelMTidszon.setVisible(false);
        lblFelMPolitiskStruktur.setVisible(false);
        lblFelMEkonomi.setVisible(false);
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lblNamn = new javax.swing.JLabel();
        lblSprak = new javax.swing.JLabel();
        lblValuta = new javax.swing.JLabel();
        lblEkonomi = new javax.swing.JLabel();
        lblTidszon = new javax.swing.JLabel();
        lblPolitiskStruktur = new javax.swing.JLabel();
        tfEkonomi = new javax.swing.JTextField();
        tfSprak = new javax.swing.JTextField();
        tfPolitiskStruktur = new javax.swing.JTextField();
        tfValuta = new javax.swing.JTextField();
        tfTidszon = new javax.swing.JTextField();
        btnTillbaka = new javax.swing.JButton();
        btnSpara = new javax.swing.JButton();
        tfNamn = new javax.swing.JTextField();
        lblFelMNamn = new javax.swing.JLabel();
        lblFelMTidszon = new javax.swing.JLabel();
        lblFelMValuta = new javax.swing.JLabel();
        lblFelMSprak = new javax.swing.JLabel();
        lblFelMPolitiskStruktur = new javax.swing.JLabel();
        lblFelMEkonomi = new javax.swing.JLabel();

        lblNamn.setText("Namn:");

        lblSprak.setText("Språk:");

        lblValuta.setText("Valuta:");

        lblEkonomi.setText("Ekonomi:");

        lblTidszon.setText("Tidszon:");

        lblPolitiskStruktur.setText("Politisk struktur:");

        btnTillbaka.setText("Tillbaka");
        btnTillbaka.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTillbakaActionPerformed(evt);
            }
        });

        btnSpara.setText("Spara");
        btnSpara.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSparaActionPerformed(evt);
            }
        });

        lblFelMNamn.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMNamn.setText("Kan inte vara tomt!");

        lblFelMTidszon.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMTidszon.setText("Kan inte vara tomt!");

        lblFelMValuta.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMValuta.setText("Kan inte vara tomt!");

        lblFelMSprak.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMSprak.setText("Kan inte vara tomt!");

        lblFelMPolitiskStruktur.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMPolitiskStruktur.setText("Kan inte vara tomt!");

        lblFelMEkonomi.setForeground(new java.awt.Color(255, 0, 51));
        lblFelMEkonomi.setText("Kan inte vara tomt!");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(41, 41, 41)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblSprak)
                            .addComponent(lblValuta)
                            .addComponent(lblTidszon)
                            .addComponent(lblPolitiskStruktur)
                            .addComponent(lblEkonomi)
                            .addComponent(lblNamn))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(tfTidszon)
                            .addComponent(tfValuta)
                            .addComponent(tfSprak)
                            .addComponent(tfPolitiskStruktur)
                            .addComponent(tfEkonomi)
                            .addComponent(tfNamn, javax.swing.GroupLayout.DEFAULT_SIZE, 135, Short.MAX_VALUE))
                        .addGap(26, 26, 26)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lblFelMSprak, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblFelMNamn, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblFelMValuta, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblFelMTidszon, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblFelMPolitiskStruktur, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblFelMEkonomi, javax.swing.GroupLayout.PREFERRED_SIZE, 110, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(btnTillbaka)
                        .addGap(18, 18, 18)
                        .addComponent(btnSpara)))
                .addGap(0, 111, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(17, 17, 17)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblNamn)
                    .addComponent(tfNamn, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblFelMNamn))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfSprak, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblSprak)
                    .addComponent(lblFelMSprak))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfValuta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblValuta)
                    .addComponent(lblFelMValuta))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblTidszon)
                    .addComponent(tfTidszon, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblFelMTidszon))
                .addGap(14, 14, 14)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfPolitiskStruktur, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblPolitiskStruktur)
                    .addComponent(lblFelMPolitiskStruktur))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfEkonomi, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblEkonomi)
                    .addComponent(lblFelMEkonomi))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 67, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnTillbaka)
                    .addComponent(btnSpara))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnTillbakaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTillbakaActionPerformed
        this.setVisible(false);
    }//GEN-LAST:event_btnTillbakaActionPerformed

    private void btnSparaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSparaActionPerformed
        //lägga till validerare som kollar format
        doljFelMeddelanden();
        
        boolean formatKorrekt = true;
        Land nyttLand = new Land(idb);
        
        String namn = tfNamn.getText();
        if(!namn.isEmpty()){
            nyttLand.setNamn(namn);
        }
        else{
            lblFelMNamn.setVisible(true);
            formatKorrekt = false;
        }
        
        String sprak = tfSprak.getText();
        if(!sprak.isEmpty()){
            nyttLand.setSprak(sprak);
        }
        else{
            lblFelMSprak.setVisible(true);
            formatKorrekt = false;
        }
        
        String valuta = tfValuta.getText();
        if(!valuta.isEmpty()){
            nyttLand.setValuta(valuta);
        }
        else{
            lblFelMValuta.setVisible(true);
            formatKorrekt = false;
        }
        
        String tidszon = tfTidszon.getText();
        if(!tidszon.isEmpty()){
            nyttLand.setTidszon(tidszon);
        }
        else{
            lblFelMTidszon.setVisible(true);
            formatKorrekt = false;
        }
        
        String politiskStruktur = tfPolitiskStruktur.getText();
        if(!politiskStruktur.isEmpty()){
            nyttLand.setPolitiskStruktur(politiskStruktur);
        }
        else{
            lblFelMPolitiskStruktur.setVisible(true);
            formatKorrekt = false;
        }
        
        String ekonomi = tfEkonomi.getText();
        if(!ekonomi.isEmpty()){
            nyttLand.setEkonomi(ekonomi);
        }
        else{
            lblFelMEkonomi.setVisible(true);
            formatKorrekt = false;
        }
        
        if(formatKorrekt){
            nyttLand.setLandID();
            nyttLand.insertLandDB();
            forraFonstret.uppdateraFonster();
        }
    }//GEN-LAST:event_btnSparaActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(LaggTillLandFonster.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(LaggTillLandFonster.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(LaggTillLandFonster.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(LaggTillLandFonster.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                //new LaggTillLandFonster().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnSpara;
    private javax.swing.JButton btnTillbaka;
    private javax.swing.JLabel lblEkonomi;
    private javax.swing.JLabel lblFelMEkonomi;
    private javax.swing.JLabel lblFelMNamn;
    private javax.swing.JLabel lblFelMPolitiskStruktur;
    private javax.swing.JLabel lblFelMSprak;
    private javax.swing.JLabel lblFelMTidszon;
    private javax.swing.JLabel lblFelMValuta;
    private javax.swing.JLabel lblNamn;
    private javax.swing.JLabel lblPolitiskStruktur;
    private javax.swing.JLabel lblSprak;
    private javax.swing.JLabel lblTidszon;
    private javax.swing.JLabel lblValuta;
    private javax.swing.JTextField tfEkonomi;
    private javax.swing.JTextField tfNamn;
    private javax.swing.JTextField tfPolitiskStruktur;
    private javax.swing.JTextField tfSprak;
    private javax.swing.JTextField tfTidszon;
    private javax.swing.JTextField tfValuta;
    // End of variables declaration//GEN-END:variables
}
